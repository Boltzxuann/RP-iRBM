Some bugs need to be fixed.
